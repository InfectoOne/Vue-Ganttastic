import{O as wt,g as q,d as rt,o as I,c as P,F as ht,G as mt,l as G,Q as U,r as N,k as V,t as it,a as gt,e as nt,a0 as vt,h as z,v as bt,b as ft,J as kt,w as et,T as ae,a1 as oe,R as Rt,y as se,j as Ct,q as ie,s as ue,$ as le,W as yt,n as Ot,a2 as ce,N as fe,Z as de,A as Mt,a3 as he,a4 as me,a5 as ge,a6 as ve,a7 as pe,a8 as ye,a9 as we,aa as be,ab as _e,ac as Be,ad as $e,u as De,x as Oe,ae as Me,af as ke,ag as Ce,ah as Ee}from"./chunks/framework.1583d43a.js";import{t as Te}from"./chunks/theme.869003f1.js";var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wt={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){var n=1e3,r=6e4,y=36e5,c="millisecond",f="second",o="minute",s="hour",e="day",i="week",d="month",u="quarter",g="year",O="date",m="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(D,w,h){var E=String(D);return!E||E.length>=w?D:""+Array(w+1-E.length).join(h)+D},T={s:$,z:function(D){var w=-D.utcOffset(),h=Math.abs(w),E=Math.floor(h/60),v=h%60;return(w<=0?"+":"-")+$(E,2,"0")+":"+$(v,2,"0")},m:function D(w,h){if(w.date()<h.date())return-D(h,w);var E=12*(h.year()-w.year())+(h.month()-w.month()),v=w.clone().add(E,d),L=h-v<0,k=w.clone().add(E+(L?-1:1),d);return+(-(E+(h-v)/(L?v-k:k-v))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:d,y:g,w:i,d:e,D:O,h:s,m:o,s:f,ms:c,Q:u}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},l="en",B={};B[l]=b;var _=function(D){return D instanceof A},S=function D(w,h,E){var v;if(!w)return l;if(typeof w=="string"){var L=w.toLowerCase();B[L]&&(v=L),h&&(B[L]=h,v=L);var k=w.split("-");if(!v&&k.length>1)return D(k[0])}else{var Y=w.name;B[Y]=w,v=Y}return!E&&v&&(l=v),v||!E&&l},M=function(D,w){if(_(D))return D.clone();var h=typeof w=="object"?w:{};return h.date=D,h.args=arguments,new A(h)},C=T;C.l=S,C.i=_,C.w=function(D,w){return M(D,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var A=function(){function D(h){this.$L=S(h.locale,null,!0),this.parse(h)}var w=D.prototype;return w.parse=function(h){this.$d=function(E){var v=E.date,L=E.utc;if(v===null)return new Date(NaN);if(C.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var k=v.match(p);if(k){var Y=k[2]-1||0,H=(k[7]||"0").substring(0,3);return L?new Date(Date.UTC(k[1],Y,k[3]||1,k[4]||0,k[5]||0,k[6]||0,H)):new Date(k[1],Y,k[3]||1,k[4]||0,k[5]||0,k[6]||0,H)}}return new Date(v)}(h),this.$x=h.x||{},this.init()},w.init=function(){var h=this.$d;this.$y=h.getFullYear(),this.$M=h.getMonth(),this.$D=h.getDate(),this.$W=h.getDay(),this.$H=h.getHours(),this.$m=h.getMinutes(),this.$s=h.getSeconds(),this.$ms=h.getMilliseconds()},w.$utils=function(){return C},w.isValid=function(){return this.$d.toString()!==m},w.isSame=function(h,E){var v=M(h);return this.startOf(E)<=v&&v<=this.endOf(E)},w.isAfter=function(h,E){return M(h)<this.startOf(E)},w.isBefore=function(h,E){return this.endOf(E)<M(h)},w.$g=function(h,E,v){return C.u(h)?this[E]:this.set(v,h)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(h,E){var v=this,L=!!C.u(E)||E,k=C.p(h),Y=function(tt,j){var Z=C.w(v.$u?Date.UTC(v.$y,j,tt):new Date(v.$y,j,tt),v);return L?Z:Z.endOf(e)},H=function(tt,j){return C.w(v.toDate()[tt].apply(v.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(j)),v)},R=this.$W,F=this.$M,J=this.$D,K="set"+(this.$u?"UTC":"");switch(k){case g:return L?Y(1,0):Y(31,11);case d:return L?Y(1,F):Y(0,F+1);case i:var ct=this.$locale().weekStart||0,at=(R<ct?R+7:R)-ct;return Y(L?J-at:J+(6-at),F);case e:case O:return H(K+"Hours",0);case s:return H(K+"Minutes",1);case o:return H(K+"Seconds",2);case f:return H(K+"Milliseconds",3);default:return this.clone()}},w.endOf=function(h){return this.startOf(h,!1)},w.$set=function(h,E){var v,L=C.p(h),k="set"+(this.$u?"UTC":""),Y=(v={},v[e]=k+"Date",v[O]=k+"Date",v[d]=k+"Month",v[g]=k+"FullYear",v[s]=k+"Hours",v[o]=k+"Minutes",v[f]=k+"Seconds",v[c]=k+"Milliseconds",v)[L],H=L===e?this.$D+(E-this.$W):E;if(L===d||L===g){var R=this.clone().set(O,1);R.$d[Y](H),R.init(),this.$d=R.set(O,Math.min(this.$D,R.daysInMonth())).$d}else Y&&this.$d[Y](H);return this.init(),this},w.set=function(h,E){return this.clone().$set(h,E)},w.get=function(h){return this[C.p(h)]()},w.add=function(h,E){var v,L=this;h=Number(h);var k=C.p(E),Y=function(F){var J=M(L);return C.w(J.date(J.date()+Math.round(F*h)),L)};if(k===d)return this.set(d,this.$M+h);if(k===g)return this.set(g,this.$y+h);if(k===e)return Y(1);if(k===i)return Y(7);var H=(v={},v[o]=r,v[s]=y,v[f]=n,v)[k]||1,R=this.$d.getTime()+h*H;return C.w(R,this)},w.subtract=function(h,E){return this.add(-1*h,E)},w.format=function(h){var E=this,v=this.$locale();if(!this.isValid())return v.invalidDate||m;var L=h||"YYYY-MM-DDTHH:mm:ssZ",k=C.z(this),Y=this.$H,H=this.$m,R=this.$M,F=v.weekdays,J=v.months,K=function(j,Z,ot,st){return j&&(j[Z]||j(E,L))||ot[Z].slice(0,st)},ct=function(j){return C.s(Y%12||12,j,"0")},at=v.meridiem||function(j,Z,ot){var st=j<12?"AM":"PM";return ot?st.toLowerCase():st},tt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:R+1,MM:C.s(R+1,2,"0"),MMM:K(v.monthsShort,R,J,3),MMMM:K(J,R),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:K(v.weekdaysMin,this.$W,F,2),ddd:K(v.weekdaysShort,this.$W,F,3),dddd:F[this.$W],H:String(Y),HH:C.s(Y,2,"0"),h:ct(1),hh:ct(2),a:at(Y,H,!0),A:at(Y,H,!1),m:String(H),mm:C.s(H,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:k};return L.replace(x,function(j,Z){return Z||tt[j]||k.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(h,E,v){var L,k=C.p(E),Y=M(h),H=(Y.utcOffset()-this.utcOffset())*r,R=this-Y,F=C.m(this,Y);return F=(L={},L[g]=F/12,L[d]=F,L[u]=F/3,L[i]=(R-H)/6048e5,L[e]=(R-H)/864e5,L[s]=R/y,L[o]=R/r,L[f]=R/n,L)[k]||R,v?F:C.a(F)},w.daysInMonth=function(){return this.endOf(d).$D},w.$locale=function(){return B[this.$L]},w.locale=function(h,E){if(!h)return this.$L;var v=this.clone(),L=S(h,E,!0);return L&&(v.$L=L),v},w.clone=function(){return C.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},D}(),W=A.prototype;return M.prototype=W,[["$ms",c],["$s",f],["$m",o],["$H",s],["$W",e],["$M",d],["$y",g],["$D",O]].forEach(function(D){W[D[1]]=function(w){return this.$g(w,D[0],D[1])}}),M.extend=function(D,w){return D.$i||(D(w,A,M),D.$i=!0),M},M.locale=S,M.isDayjs=_,M.unix=function(D){return M(1e3*D)},M.en=B[l],M.Ls=B,M.p={},M})})(Wt);var xe=Wt.exports;const X=lt(xe);var Pt={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){var n="day";return function(r,y,c){var f=function(e){return e.add(4-e.isoWeekday(),n)},o=y.prototype;o.isoWeekYear=function(){return f(this).year()},o.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),n);var i,d,u,g,O=f(this),m=(i=this.isoWeekYear(),d=this.$u,u=(d?c.utc:c)().year(i).startOf("year"),g=4-u.isoWeekday(),u.isoWeekday()>4&&(g+=7),u.add(g,n));return O.diff(m,"week")+1},o.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var s=o.startOf;o.startOf=function(e,i){var d=this.$utils(),u=!!d.u(i)||i;return d.p(e)==="isoweek"?u?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(e,i)}}})})(Pt);var Se=Pt.exports;const Le=lt(Se);var Ft={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){return function(n,r){r.prototype.isSameOrBefore=function(y,c){return this.isSame(y,c)||this.isBefore(y,c)}}})})(Ft);var Ye=Ft.exports;const Ge=lt(Ye);var jt={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){return function(n,r){r.prototype.isSameOrAfter=function(y,c){return this.isSame(y,c)||this.isAfter(y,c)}}})})(jt);var Ae=jt.exports;const Ie=lt(Ae);var Ut={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){return function(n,r,y){r.prototype.isBetween=function(c,f,o,s){var e=y(c),i=y(f),d=(s=s||"()")[0]==="(",u=s[1]===")";return(d?this.isAfter(e,o):!this.isBefore(e,o))&&(u?this.isBefore(i,o):!this.isAfter(i,o))||(d?this.isBefore(e,o):!this.isAfter(e,o))&&(u?this.isAfter(i,o):!this.isBefore(i,o))}}})})(Ut);var He=Ut.exports;const Re=lt(He);var Nt={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){var n="week",r="year";return function(y,c,f){var o=c.prototype;o.week=function(s){if(s===void 0&&(s=null),s!==null)return this.add(7*(s-this.week()),"day");var e=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var i=f(this).startOf(r).add(1,r).date(e),d=f(this).endOf(n);if(i.isBefore(d))return 1}var u=f(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),g=this.diff(u,n,!0);return g<0?f(this).startOf("week").week():Math.ceil(g)},o.weeks=function(s){return s===void 0&&(s=null),this.week(s)}}})})(Nt);var We=Nt.exports;const Pe=lt(We);var zt={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){return function(n,r,y){var c=r.prototype,f=c.format;y.en.ordinal=function(o){var s=["th","st","nd","rd"],e=o%100;return"["+o+(s[(e-20)%10]||s[e]||s[0])+"]"},c.format=function(o){var s=this,e=this.$locale();if(!this.isValid())return f.bind(this)(o);var i=this.$utils(),d=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return e.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return e.ordinal(s.week(),"W");case"w":case"ww":return i.s(s.week(),u==="w"?1:2,"0");case"W":case"WW":return i.s(s.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return i.s(String(s.$H===0?24:s.$H),u==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return u}});return f.bind(this)(d)}}})})(zt);var Fe=zt.exports;const je=lt(Fe);var Vt={exports:{}};(function(t,a){(function(n,r){t.exports=r()})(ut,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,y=/\d\d/,c=/\d\d?/,f=/\d*[^-_:/,()\s\d]+/,o={},s=function(m){return(m=+m)+(m>68?1900:2e3)},e=function(m){return function(p){this[m]=+p}},i=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(p){if(!p||p==="Z")return 0;var x=p.match(/([+-]|\d\d)/g),b=60*x[1]+(+x[2]||0);return b===0?0:x[0]==="+"?-b:b}(m)}],d=function(m){var p=o[m];return p&&(p.indexOf?p:p.s.concat(p.f))},u=function(m,p){var x,b=o.meridiem;if(b){for(var $=1;$<=24;$+=1)if(m.indexOf(b($,0,p))>-1){x=$>12;break}}else x=m===(p?"pm":"PM");return x},g={A:[f,function(m){this.afternoon=u(m,!1)}],a:[f,function(m){this.afternoon=u(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[y,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[c,e("seconds")],ss:[c,e("seconds")],m:[c,e("minutes")],mm:[c,e("minutes")],H:[c,e("hours")],h:[c,e("hours")],HH:[c,e("hours")],hh:[c,e("hours")],D:[c,e("day")],DD:[y,e("day")],Do:[f,function(m){var p=o.ordinal,x=m.match(/\d+/);if(this.day=x[0],p)for(var b=1;b<=31;b+=1)p(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],M:[c,e("month")],MM:[y,e("month")],MMM:[f,function(m){var p=d("months"),x=(d("monthsShort")||p.map(function(b){return b.slice(0,3)})).indexOf(m)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[f,function(m){var p=d("months").indexOf(m)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,e("year")],YY:[y,function(m){this.year=s(m)}],YYYY:[/\d{4}/,e("year")],Z:i,ZZ:i};function O(m){var p,x;p=m,x=o&&o.formats;for(var b=(m=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,C,A){var W=A&&A.toUpperCase();return C||x[A]||n[A]||x[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,w,h){return w||h.slice(1)})})).match(r),$=b.length,T=0;T<$;T+=1){var l=b[T],B=g[l],_=B&&B[0],S=B&&B[1];b[T]=S?{regex:_,parser:S}:l.replace(/^\[|\]$/g,"")}return function(M){for(var C={},A=0,W=0;A<$;A+=1){var D=b[A];if(typeof D=="string")W+=D.length;else{var w=D.regex,h=D.parser,E=M.slice(W),v=w.exec(E)[0];h.call(C,v),M=M.replace(v,"")}}return function(L){var k=L.afternoon;if(k!==void 0){var Y=L.hours;k?Y<12&&(L.hours+=12):Y===12&&(L.hours=0),delete L.afternoon}}(C),C}}return function(m,p,x){x.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(s=m.parseTwoDigitYear);var b=p.prototype,$=b.parse;b.parse=function(T){var l=T.date,B=T.utc,_=T.args;this.$u=B;var S=_[1];if(typeof S=="string"){var M=_[2]===!0,C=_[3]===!0,A=M||C,W=_[2];C&&(W=_[2]),o=this.$locale(),!M&&W&&(o=x.Ls[W]),this.$d=function(E,v,L){try{if(["x","X"].indexOf(v)>-1)return new Date((v==="X"?1e3:1)*E);var k=O(v)(E),Y=k.year,H=k.month,R=k.day,F=k.hours,J=k.minutes,K=k.seconds,ct=k.milliseconds,at=k.zone,tt=new Date,j=R||(Y||H?1:tt.getDate()),Z=Y||tt.getFullYear(),ot=0;Y&&!H||(ot=H>0?H-1:tt.getMonth());var st=F||0,Bt=J||0,$t=K||0,Dt=ct||0;return at?new Date(Date.UTC(Z,ot,j,st,Bt,$t,Dt+60*at.offset*1e3)):L?new Date(Date.UTC(Z,ot,j,st,Bt,$t,Dt)):new Date(Z,ot,j,st,Bt,$t,Dt)}catch{return new Date("")}}(l,S,B),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),A&&l!=this.format(S)&&(this.$d=new Date("")),o={}}else if(S instanceof Array)for(var D=S.length,w=1;w<=D;w+=1){_[1]=S[w-1];var h=x.apply(this,_);if(h.isValid()){this.$d=h.$d,this.$L=h.$L,this.init();break}w===D&&(this.$d=new Date(""))}else $.call(this,T)}}})})(Vt);var Ue=Vt.exports;const Ne=lt(Ue),qt=Symbol("CHART_ROWS_KEY"),Qt=Symbol("CONFIG_KEY"),Zt=Symbol("EMIT_BAR_EVENT_KEY"),Xt=Symbol("BAR_CONTAINER_KEY");function Q(){const t=wt(Qt);if(!t)throw Error("Failed to inject config!");return t}const Kt="YYYY-MM-DD HH:mm";function pt(t=Q()){const{chartStart:a,chartEnd:n,barStart:r,barEnd:y,dateFormat:c}=t,f=q(()=>s(a.value)),o=q(()=>s(n.value)),s=(i,d)=>{let u;if(d!==void 0&&typeof i!="string"&&!(i instanceof Date)&&(u=d==="start"?i[r.value]:i[y.value]),typeof i=="string")u=i;else if(i instanceof Date)return X(i);const g=c.value||Kt;return X(u,g,!0)};return{chartStartDayjs:f,chartEndDayjs:o,toDayjs:s,format:(i,d)=>d===!1?i instanceof Date?i:X(i).toDate():(typeof i=="string"||i instanceof Date?s(i):i).format(d)}}function Jt(){const{precision:t}=Q(),{chartStartDayjs:a,chartEndDayjs:n}=pt(),r=q(()=>{switch(t==null?void 0:t.value){case"hour":return"day";case"day":return"month";case"date":case"week":return"month";case"month":return"year";default:throw new Error("Precision prop incorrect. Must be one of the following: 'hour', 'day', 'date', 'week', 'month'")}}),y=q(()=>{switch(t.value){case"date":return"day";case"week":return"isoWeek";default:return t.value}}),c={hour:"HH",date:"DD.MMM",day:"DD.MMM",week:"WW",month:"MMMM YYYY",year:"YYYY"};return{timeaxisUnits:q(()=>{const o=[],s=[],e=n.value.diff(a.value,"minutes",!0),i=r.value,d=y.value;let u=a.value,g=a.value;for(;g.isSameOrBefore(n.value);){const O=g.endOf(d),p=O.isAfter(n.value)?n.value.diff(g,"minutes",!0)/e*100:O.diff(g,"minutes",!0)/e*100;s.push({label:g.format(c[t==null?void 0:t.value]),value:String(g),date:g.toDate(),width:String(p)+"%"}),g=O.add(1,d==="isoWeek"?"week":d).startOf(d)}for(;u.isSameOrBefore(n.value);){const O=u.endOf(i),p=O.isAfter(n.value)?n.value.diff(u,"minutes",!0)/e*100:O.diff(u,"minutes",!0)/e*100;o.push({label:u.format(c[i]),value:String(u),date:u.toDate(),width:String(p)+"%"}),u=O.add(1,i).startOf(i)}return{upperUnits:o,lowerUnits:s}})}}const ze={class:"g-grid-container"},Ve=rt({__name:"GGanttGrid",props:{highlightedUnits:{}},setup(t){const{colors:a}=Q(),{timeaxisUnits:n}=Jt();return(r,y)=>(I(),P("div",ze,[(I(!0),P(ht,null,mt(G(n).lowerUnits,({label:c,value:f,width:o})=>{var s;return I(),P("div",{key:c,class:"g-grid-line",style:U({width:o,background:(s=r.highlightedUnits)!=null&&s.includes(Number(f))?G(a).hoverHighlight:void 0})},null,4)}),128))]))}});function Et(){const t=wt(qt);if(!t)throw Error("Failed to inject getChartRows!");return t}const qe={class:"g-label-column-rows"},Qe=rt({__name:"GGanttLabelColumn",setup(t){const{font:a,colors:n,labelColumnTitle:r,rowHeight:y}=Q(),c=Et();return(f,o)=>(I(),P("div",{class:"g-label-column",style:U({fontFamily:G(a),color:G(n).text})},[N(f.$slots,"label-column-title",{},()=>[V("div",{class:"g-label-column-header",style:U({background:G(n).primary})},it(G(r)),5)]),V("div",qe,[(I(!0),P(ht,null,mt(G(c)(),({label:s},e)=>(I(),P("div",{key:`${s}_${e}`,class:"g-label-column-row",style:U({background:e%2===0?G(n).ternary:G(n).quartenary,height:`${G(y)}px`})},[N(f.$slots,"label-column-row",{label:s},()=>[V("span",null,it(s),1)])],4))),128))])],4))}});const Ze={class:"g-timeaxis"},Xe={class:"g-timeunits-container"},Ke={class:"g-timeunits-container"},Je=rt({__name:"GGanttTimeaxis",setup(t){const{precision:a,colors:n}=Q(),{timeaxisUnits:r}=Jt();return(y,c)=>(I(),P("div",Ze,[V("div",Xe,[(I(!0),P(ht,null,mt(G(r).upperUnits,({label:f,value:o,date:s,width:e},i)=>(I(),P("div",{key:f,class:"g-upper-timeunit",style:U({background:i%2===0?G(n).primary:G(n).secondary,color:G(n).text,width:e})},[N(y.$slots,"upper-timeunit",{label:f,value:o,date:s},()=>[gt(it(f),1)])],4))),128))]),V("div",Ke,[(I(!0),P(ht,null,mt(G(r).lowerUnits,({label:f,value:o,date:s,width:e},i)=>(I(),P("div",{key:f,class:"g-timeunit",style:U({background:i%2===0?G(n).ternary:G(n).quartenary,color:G(n).text,flexDirection:G(a)==="hour"?"column":"row",alignItems:G(a)==="hour"?"":"center",width:e})},[N(y.$slots,"timeunit",{label:f,value:o,date:s},()=>[gt(it(f),1)]),G(a)==="hour"?(I(),P("div",{key:0,class:"g-timeaxis-hour-pin",style:U({background:G(n).text})},null,4)):nt("",!0)],4))),128))])]))}});const tn="cadetblue",en=rt({__name:"GGanttBarTooltip",props:{bar:{},modelValue:{type:Boolean}},setup(t){const a=t,n={hour:"HH:mm",day:"DD. MMM HH:mm",date:"DD. MMMM YYYY",month:"DD. MMMM YYYY",week:"DD. MMMM YYYY (WW)"},{bar:r}=vt(a),{precision:y,font:c,barStart:f,barEnd:o,rowHeight:s}=Q(),e=z("0px"),i=z("0px");bt(()=>a.bar,async()=>{var l;await Rt();const p=((l=r==null?void 0:r.value)==null?void 0:l.ganttBarConfig.id)||"";if(!p)return;const x=document.getElementById(p),{top:b,left:$}=(x==null?void 0:x.getBoundingClientRect())||{top:0,left:0},T=Math.max($,10);e.value=`${b+s.value-10}px`,i.value=`${T}px`},{deep:!0,immediate:!0});const d=q(()=>{var p,x;return((x=(p=r==null?void 0:r.value)==null?void 0:p.ganttBarConfig.style)==null?void 0:x.background)||tn}),{toDayjs:u}=pt(),g=q(()=>{var p;return(p=r.value)==null?void 0:p[f.value]}),O=q(()=>{var p;return(p=r.value)==null?void 0:p[o.value]}),m=q(()=>{if(!(r!=null&&r.value))return"";const p=n[y.value],x=u(g.value).format(p),b=u(O.value).format(p);return`${x} – ${b}`});return(p,x)=>(I(),ft(oe,{to:"body"},[kt(ae,{name:"g-fade",mode:"out-in"},{default:et(()=>[p.modelValue?(I(),P("div",{key:0,class:"g-gantt-tooltip",style:U({top:e.value,left:i.value,fontFamily:G(c)})},[V("div",{class:"g-gantt-tooltip-color-dot",style:U({background:d.value})},null,4),N(p.$slots,"default",{bar:G(r),barStart:g.value,barEnd:O.value},()=>[gt(it(m.value),1)])],4)):nt("",!0)]),_:3})]))}});function _t(t=Q()){const{dateFormat:a,chartSize:n}=t,{chartStartDayjs:r,chartEndDayjs:y,toDayjs:c,format:f}=pt(t),o=q(()=>y.value.diff(r.value,"minutes"));return{mapTimeToPosition:i=>{const d=n.width.value||0,u=c(i).diff(r.value,"minutes",!0);return Math.ceil(u/o.value*d)},mapPositionToTime:i=>{const d=n.width.value||0,u=i/d*o.value;return f(r.value.add(u,"minutes"),a.value)}}}const nn=rt({__name:"GGanttCurrentTime",setup(t){const{mapTimeToPosition:a}=_t(),n=z(X()),{colors:r,dateFormat:y,currentTimeLabel:c}=Q(),f=q(()=>{const o=y.value||"YYYY-MM-DD HH:mm";return a(X(n.value,o).format(o))});return(o,s)=>(I(),P("div",{class:"g-grid-current-time",style:U({left:`${f.value}px`})},[V("div",{class:"g-grid-current-time-marker",style:U({border:`1px dashed ${G(r).markerCurrentTime}`})},null,4),V("span",{class:"g-grid-current-time-text",style:U({color:G(r).markerCurrentTime})},[N(o.$slots,"current-time-label",{},()=>[gt(it(G(c)),1)])],4)],4))}});var Tt;const te=typeof window<"u";te&&((Tt=window==null?void 0:window.navigator)!=null&&Tt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function rn(t){return typeof t=="function"?t():G(t)}function an(t){return t}function on(t){return ie()?(ue(t),!0):!1}function sn(t,a=!0){se()?Ct(t):a?t():Rt(t)}function ee(t){var a;const n=rn(t);return(a=n==null?void 0:n.$el)!=null?a:n}const un=te?window:void 0;function ln(t,a=!1){const n=z(),r=()=>n.value=!!t();return r(),sn(r,a),n}const xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St="__vueuse_ssr_handlers__";xt[St]=xt[St]||{};var Lt=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,dn=(t,a)=>{var n={};for(var r in t)cn.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Lt)for(var r of Lt(t))a.indexOf(r)<0&&fn.call(t,r)&&(n[r]=t[r]);return n};function hn(t,a,n={}){const r=n,{window:y=un}=r,c=dn(r,["window"]);let f;const o=ln(()=>y&&"ResizeObserver"in y),s=()=>{f&&(f.disconnect(),f=void 0)},e=bt(()=>ee(t),d=>{s(),o.value&&y&&d&&(f=new ResizeObserver(a),f.observe(d,c))},{immediate:!0,flush:"post"}),i=()=>{s(),e()};return on(i),{isSupported:o,stop:i}}function mn(t,a={width:0,height:0},n={}){const r=z(a.width),y=z(a.height);return hn(t,([c])=>{r.value=c.contentRect.width,y.value=c.contentRect.height},n),bt(()=>ee(t),c=>{r.value=c?a.width:0,y.value=c?a.height:0}),{width:r,height:y}}var Yt;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Yt||(Yt={}));var gn=Object.defineProperty,Gt=Object.getOwnPropertySymbols,vn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,At=(t,a,n)=>a in t?gn(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,yn=(t,a)=>{for(var n in a||(a={}))vn.call(a,n)&&At(t,n,a[n]);if(Gt)for(var n of Gt(a))pn.call(a,n)&&At(t,n,a[n]);return t};const wn={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};yn({linear:an},wn);const It={default:{primary:"#eeeeee",secondary:"#E0E0E0",ternary:"#F5F5F5",quartenary:"#ededed",hoverHighlight:"rgba(204, 216, 219, 0.5)",markerCurrentTime:"#000",text:"#404040",background:"white"},creamy:{primary:"#ffe8d9",secondary:"#fcdcc5",ternary:"#fff6f0",quartenary:"#f7ece6",hoverHighlight:"rgba(230, 221, 202, 0.5)",markerCurrentTime:"#000",text:"#542d05",background:"white"},crimson:{primary:"#a82039",secondary:"#c41238",ternary:"#db4f56",quartenary:"#ce5f64",hoverHighlight:"rgba(196, 141, 141, 0.5)",markerCurrentTime:"#000",text:"white",background:"white"},dark:{primary:"#404040",secondary:"#303030",ternary:"#353535",quartenary:"#383838",hoverHighlight:"rgba(159, 160, 161, 0.5)",markerCurrentTime:"#fff",text:"white",background:"#525252",toast:"#1f1f1f"},flare:{primary:"#e08a38",secondary:"#e67912",ternary:"#5e5145",quartenary:"#665648",hoverHighlight:"rgba(196, 141, 141, 0.5)",markerCurrentTime:"#000",text:"white",background:"white"},fuchsia:{primary:"#de1d5a",secondary:"#b50b41",ternary:"#ff7da6",quartenary:"#f2799f",hoverHighlight:"rgba(196, 141, 141, 0.5)",markerCurrentTime:"#000",text:"white",background:"white"},grove:{primary:"#3d9960",secondary:"#288542",ternary:"#72b585",quartenary:"#65a577",hoverHighlight:"rgba(160, 219, 171, 0.5)",markerCurrentTime:"#000",text:"white",background:"white"},"material-blue":{primary:"#0D47A1",secondary:"#1565C0",ternary:"#42a5f5",quartenary:"#409fed",hoverHighlight:"rgba(110, 165, 196, 0.5)",markerCurrentTime:"#000",text:"white",background:"white"},sky:{primary:"#b5e3ff",secondary:"#a1d6f7",ternary:"#d6f7ff",quartenary:"#d0edf4",hoverHighlight:"rgba(193, 202, 214, 0.5)",markerCurrentTime:"#000",text:"#022c47",background:"white"},slumber:{primary:"#2a2f42",secondary:"#2f3447",ternary:"#35394d",quartenary:"#2c3044",hoverHighlight:"rgba(179, 162, 127, 0.5)",markerCurrentTime:"#fff",text:"#ffe0b3",background:"#38383b",toast:"#1f1f1f"},vue:{primary:"#258a5d",secondary:"#41B883",ternary:"#35495E",quartenary:"#2a3d51",hoverHighlight:"rgba(160, 219, 171, 0.5)",markerCurrentTime:"#000",text:"white",background:"white"}},bn={class:"g-gantt-rows-container"},_n=rt({__name:"GGanttChart",props:{chartStart:{},chartEnd:{},precision:{default:"day"},barStart:{},barEnd:{},currentTime:{type:Boolean},currentTimeLabel:{default:""},dateFormat:{type:[String,Boolean],default:Kt},width:{default:"100%"},hideTimeaxis:{type:Boolean,default:!1},colorScheme:{default:"default"},grid:{type:Boolean,default:!1},pushOnOverlap:{type:Boolean,default:!1},noOverlap:{type:Boolean,default:!1},rowHeight:{default:40},highlightedUnits:{default:()=>[]},font:{default:"inherit"},labelColumnTitle:{default:""},labelColumnWidth:{default:"150px"}},emits:["click-bar","mousedown-bar","mouseup-bar","dblclick-bar","mouseenter-bar","mouseleave-bar","dragstart-bar","drag-bar","dragend-bar","contextmenu-bar"],setup(t,{emit:a}){const n=t,{width:r,font:y,colorScheme:c}=vt(n),f=le(),o=q(()=>typeof c.value!="string"?c.value:It[c.value]||It.default),s=()=>{var T;const b=(T=f.default)==null?void 0:T.call(f),$=[];return b&&b.forEach(l=>{var B;if((B=l.props)!=null&&B.bars){const{label:_,bars:S}=l.props;$.push({label:_,bars:S})}else Array.isArray(l.children)&&l.children.forEach(_=>{var M;const S=_;if((M=S==null?void 0:S.props)!=null&&M.bars){const{label:C,bars:A}=S.props;$.push({label:C,bars:A})}})}),$},e=z(!1),i=z(!1),d=z(void 0);let u;const g=b=>{u&&clearTimeout(u),u=setTimeout(()=>{e.value=!0},800),d.value=b},O=()=>{clearTimeout(u),e.value=!1},m=(b,$,T,l)=>{switch(b.type){case"click":a("click-bar",{bar:$,e:b,datetime:T});break;case"mousedown":a("mousedown-bar",{bar:$,e:b,datetime:T});break;case"mouseup":a("mouseup-bar",{bar:$,e:b,datetime:T});break;case"dblclick":a("dblclick-bar",{bar:$,e:b,datetime:T});break;case"mouseenter":g($),a("mouseenter-bar",{bar:$,e:b});break;case"mouseleave":O(),a("mouseleave-bar",{bar:$,e:b});break;case"dragstart":i.value=!0,a("dragstart-bar",{bar:$,e:b});break;case"drag":a("drag-bar",{bar:$,e:b});break;case"dragend":i.value=!1,a("dragend-bar",{bar:$,e:b,movedBars:l});break;case"contextmenu":a("contextmenu-bar",{bar:$,e:b,datetime:T});break}},p=z(null),x=mn(p);return yt(qt,s),yt(Qt,{...vt(n),colors:o,chartSize:x}),yt(Zt,m),(b,$)=>(I(),P("div",null,[V("div",{class:Ot([{"labels-in-column":!!b.labelColumnTitle}])},[b.labelColumnTitle?(I(),ft(Qe,{key:0,style:U({width:b.labelColumnWidth})},{"label-column-title":et(()=>[N(b.$slots,"label-column-title")]),"label-column-row":et(({label:T})=>[N(b.$slots,"label-column-row",{label:T})]),_:3},8,["style"])):nt("",!0),V("div",{ref_key:"ganttChart",ref:p,class:Ot(["g-gantt-chart",{"with-column":b.labelColumnTitle}]),style:U({width:G(r),background:o.value.background,fontFamily:G(y)})},[b.hideTimeaxis?nt("",!0):(I(),ft(Je,{key:0},{"upper-timeunit":et(({label:T,value:l,date:B})=>[N(b.$slots,"upper-timeunit",{label:T,value:l,date:B})]),timeunit:et(({label:T,value:l,date:B})=>[N(b.$slots,"timeunit",{label:T,value:l,date:B})]),_:3})),b.grid?(I(),ft(Ve,{key:1,"highlighted-units":b.highlightedUnits},null,8,["highlighted-units"])):nt("",!0),b.currentTime?(I(),ft(nn,{key:2},{"current-time-label":et(()=>[N(b.$slots,"current-time-label")]),_:3})):nt("",!0),V("div",bn,[N(b.$slots,"default")])],6)],2),kt(en,{"model-value":e.value||i.value,bar:d.value},{default:et(()=>[N(b.$slots,"bar-tooltip",{bar:d.value})]),_:3},8,["model-value","bar"])]))}});function Ht(t,a=()=>null,n=()=>null,r=Q()){const{barStart:y,barEnd:c,pushOnOverlap:f}=r,o=z(!1);let s=0,e;const{mapPositionToTime:i}=_t(r),{toDayjs:d}=pt(r),u=$=>{const T=document.getElementById(t.ganttBarConfig.id);if(!T)return;switch(s=$.clientX-(T.getBoundingClientRect().left||0),$.target.className){case"g-gantt-bar-handle-left":document.body.style.cursor="ew-resize",e=m;break;case"g-gantt-bar-handle-right":document.body.style.cursor="ew-resize",e=p;break;default:e=O}o.value=!0,window.addEventListener("mousemove",e),window.addEventListener("mouseup",b)},g=()=>{var l;const $=document.getElementById(t.ganttBarConfig.id),T=(l=$==null?void 0:$.closest(".g-gantt-row-bars-container"))==null?void 0:l.getBoundingClientRect();return{barElement:$,barContainer:T}},O=$=>{const{barElement:T,barContainer:l}=g();if(!T||!l)return;const B=T.getBoundingClientRect().width,_=$.clientX-l.left-s,S=_+B;x(_,S)||(t[y.value]=i(_),t[c.value]=i(S),a($,t))},m=$=>{const{barElement:T,barContainer:l}=g();if(!T||!l)return;const B=$.clientX-l.left,_=i(B);d(_).isSameOrAfter(d(t,"end"))||(t[y.value]=_,a($,t))},p=$=>{const{barElement:T,barContainer:l}=g();if(!T||!l)return;const B=$.clientX-l.left,_=i(B);d(_).isSameOrBefore(d(t,"start"))||(t[c.value]=_,a($,t))},x=($,T)=>{if(!f.value)return!1;const l=t.ganttBarConfig.dragLimitLeft,B=t.ganttBarConfig.dragLimitRight;return $&&l!=null&&$<l||T&&B!=null&&T>B},b=$=>{o.value=!1,document.body.style.cursor="",window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",b),n($,t)};return{isDragging:o,initDrag:u}}function ne(){const t=wt(Zt);if(!t)throw Error("Failed to inject emitBarEvent!");return t}function Bn(){const t=Q(),a=Et(),n=ne(),{pushOnOverlap:r,barStart:y,barEnd:c,noOverlap:f,dateFormat:o}=t,s=new Map,{toDayjs:e,format:i}=pt(),d=(l,B)=>{const{initDrag:_}=Ht(l,g,b,t);n({...B,type:"dragstart"},l),_(B),$(l)},u=(l,B)=>{const _=l.ganttBarConfig.bundle;_!=null&&(a().forEach(S=>{S.bars.forEach(M=>{if(M.ganttBarConfig.bundle===_){const C=M===l?b:()=>null,{initDrag:A}=Ht(M,g,C,t);A(B),$(M)}})}),n({...B,type:"dragstart"},l))},g=(l,B)=>{n({...l,type:"drag"},B),O(B)},O=l=>{if(!(r!=null&&r.value))return;let B=l,{overlapBar:_,overlapType:S}=m(B);for(;_;){$(_);const M=e(B[y.value]),C=e(B[c.value]),A=e(_[y.value]),W=e(_[c.value]);let D;switch(S){case"left":D=W.diff(M,"minutes",!0),_[c.value]=i(B[y.value],o.value),_[y.value]=i(A.subtract(D,"minutes"),o.value);break;case"right":D=C.diff(A,"minutes",!0),_[y.value]=i(C,o.value),_[c.value]=i(W.add(D,"minutes"),o.value);break;default:console.warn("Vue-Ganttastic: One bar is inside of the other one! This should never occur while push-on-overlap is active!");return}_&&(S==="left"||S==="right")&&p(_,D,S),B=_,{overlapBar:_,overlapType:S}=m(_)}},m=l=>{var w;let B,_,S;const M=((w=a().find(h=>h.bars.includes(l)))==null?void 0:w.bars)??[],C=e(l[y.value]),A=e(l[c.value]);return{overlapBar:M.find(h=>{if(h===l)return!1;const E=e(h[y.value]),v=e(h[c.value]);return B=C.isBetween(E,v),_=A.isBetween(E,v),S=E.isBetween(C,A)||v.isBetween(C,A),B||_||S}),overlapType:B?"left":_?"right":S?"between":null}},p=(l,B,_)=>{$(l),l.ganttBarConfig.bundle&&a().forEach(S=>{S.bars.forEach(M=>{M.ganttBarConfig.bundle===l.ganttBarConfig.bundle&&M!==l&&($(M),x(M,B,_))})})},x=(l,B,_)=>{switch(_){case"left":l[y.value]=i(e(l,"start").subtract(B,"minutes"),o.value),l[c.value]=i(e(l,"end").subtract(B,"minutes"),o.value);break;case"right":l[y.value]=i(e(l,"start").add(B,"minutes"),o.value),l[c.value]=i(e(l,"end").add(B,"minutes"),o.value)}O(l)},b=(l,B)=>{T();const _={...l,type:"dragend"};n(_,B,void 0,new Map(s)),s.clear()},$=l=>{if(!s.has(l)){const B=l[y.value],_=l[c.value];s.set(l,{oldStart:B,oldEnd:_})}},T=()=>{if(r.value||!f.value)return;let l=!1;s.forEach((B,_)=>{const{overlapBar:S}=m(_);S!=null&&(l=!0)}),l&&s.forEach(({oldStart:B,oldEnd:_},S)=>{S[y.value]=B,S[c.value]=_})};return{initDragOfBar:d,initDragOfBundle:u}}function $n(){const{pushOnOverlap:t}=Q(),a=Et(),n=f=>{const o=[];return f!=null&&a().forEach(s=>{s.bars.forEach(e=>{e.ganttBarConfig.bundle===f&&o.push(e)})}),o},r=f=>{if(!t.value||f.ganttBarConfig.pushOnOverlap===!1)return;for(const s of["left","right"]){const e=s,{gapDistanceSoFar:i,bundleBarsAndGapDist:d}=y(f,0,e);let u=i;const g=d;if(!g)continue;for(let m=0;m<g.length;m++){const p=g[m].bar,x=g[m].gapDistance;n(p.ganttBarConfig.bundle).filter($=>$!==p).forEach($=>{const T=y($,x,e),l=T.gapDistanceSoFar,B=T.bundleBarsAndGapDist;l!=null&&(!u||l<u)&&(u=l),B.forEach(_=>{g.find(S=>S.bar===_.bar)||g.push(_)})})}const O=document.getElementById(f.ganttBarConfig.id);u!=null&&e==="left"?f.ganttBarConfig.dragLimitLeft=O.offsetLeft-u:u!=null&&e==="right"&&(f.ganttBarConfig.dragLimitRight=O.offsetLeft+O.offsetWidth+u)}n(f.ganttBarConfig.bundle).forEach(s=>{s.ganttBarConfig.dragLimitLeft=f.ganttBarConfig.dragLimitLeft,s.ganttBarConfig.dragLimitRight=f.ganttBarConfig.dragLimitRight})},y=(f,o=0,s)=>{const e=f.ganttBarConfig.bundle?[{bar:f,gapDistance:o}]:[];let i=f,d=c(i,s);if(s==="left")for(;d;){const u=document.getElementById(i.ganttBarConfig.id),g=document.getElementById(d.ganttBarConfig.id),O=g.offsetLeft+g.offsetWidth;if(o+=u.offsetLeft-O,d.ganttBarConfig.immobile)return{gapDistanceSoFar:o,bundleBarsAndGapDist:e};d.ganttBarConfig.bundle&&e.push({bar:d,gapDistance:o}),i=d,d=c(d,"left")}if(s==="right")for(;d;){const u=document.getElementById(i.ganttBarConfig.id),g=document.getElementById(d.ganttBarConfig.id),O=u.offsetLeft+u.offsetWidth;if(o+=g.offsetLeft-O,d.ganttBarConfig.immobile)return{gapDistanceSoFar:o,bundleBarsAndGapDist:e};d.ganttBarConfig.bundle&&e.push({bar:d,gapDistance:o}),i=d,d=c(d,"right")}return{gapDistanceSoFar:null,bundleBarsAndGapDist:e}},c=(f,o)=>{var d;const s=document.getElementById(f.ganttBarConfig.id),e=((d=a().find(u=>u.bars.includes(f)))==null?void 0:d.bars)??[];let i=[];return o==="left"?i=e.filter(u=>{const g=document.getElementById(u.ganttBarConfig.id);return g&&g.offsetLeft<s.offsetLeft&&u.ganttBarConfig.pushOnOverlap!==!1}):i=e.filter(u=>{const g=document.getElementById(u.ganttBarConfig.id);return g&&g.offsetLeft>s.offsetLeft&&u.ganttBarConfig.pushOnOverlap!==!1}),i.length>0?i.reduce((u,g)=>{const O=document.getElementById(u.ganttBarConfig.id),m=document.getElementById(g.ganttBarConfig.id),p=Math.abs(O.offsetLeft-s.offsetLeft),x=Math.abs(m.offsetLeft-s.offsetLeft);return p<x?u:g},i[0]):null};return{setDragLimitsOfGanttBar:r}}const Dn=["id"],On={class:"g-gantt-bar-label"},Mn=["innerHTML"],kn=V("div",{class:"g-gantt-bar-handle-left"},null,-1),Cn=V("div",{class:"g-gantt-bar-handle-right"},null,-1),En=rt({__name:"GGanttBar",props:{bar:{}},setup(t){const a=t,n=ne(),r=Q(),{rowHeight:y}=r,{bar:c}=vt(a),{mapTimeToPosition:f,mapPositionToTime:o}=_t(),{initDragOfBar:s,initDragOfBundle:e}=Bn(),{setDragLimitsOfGanttBar:i}=$n(),d=z(!1),u=q(()=>c.value.ganttBarConfig);function g(M){u.value.bundle!=null?e(c.value,M):s(c.value,M),d.value=!0}const O=()=>{i(c.value),!u.value.immobile&&(window.addEventListener("mousemove",g,{once:!0}),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",g),d.value=!1},{once:!0}))},m=wt(Xt),p=M=>{var W;M.preventDefault(),M.type==="mousedown"&&O();const C=(W=m==null?void 0:m.value)==null?void 0:W.getBoundingClientRect();if(!C)return;const A=o(M.clientX-C.left);n(M,c.value,A)},{barStart:x,barEnd:b,width:$,chartStart:T,chartEnd:l,chartSize:B}=r,_=z(0),S=z(0);return Ct(()=>{bt([c,$,T,l,B.width],()=>{_.value=f(c.value[x.value]),S.value=f(c.value[b.value])},{deep:!0,immediate:!0})}),(M,C)=>(I(),P("div",{id:u.value.id,class:Ot(["g-gantt-bar",u.value.class||""]),style:U({...u.value.style,position:"absolute",top:`${G(y)*.1}px`,left:`${_.value}px`,width:`${S.value-_.value}px`,height:`${G(y)*.8}px`,zIndex:d.value?3:2}),onMousedown:p,onClick:p,onDblclick:p,onMouseenter:p,onMouseleave:p,onContextmenu:p},[V("div",On,[N(M.$slots,"default",{bar:G(c)},()=>[V("div",null,it(u.value.label||""),1),u.value.html?(I(),P("div",{key:0,innerHTML:u.value.html},null,8,Mn)):nt("",!0)])]),u.value.hasHandles?(I(),P(ht,{key:0},[kn,Cn],64)):nt("",!0)],46,Dn))}});const Tn=rt({__name:"GGanttRow",props:{label:{},bars:{},highlightOnHover:{type:Boolean}},emits:["drop"],setup(t,{emit:a}){const n=t,{rowHeight:r,colors:y,labelColumnTitle:c}=Q(),{highlightOnHover:f}=vt(n),o=z(!1),s=q(()=>({height:`${r.value}px`,background:f!=null&&f.value&&o.value?y.value.hoverHighlight:null})),{mapPositionToTime:e}=_t(),i=z(null);yt(Xt,i);const d=g=>{var x;const O=(x=i.value)==null?void 0:x.getBoundingClientRect();if(!O){console.error("Vue-Ganttastic: failed to find bar container element for row.");return}const m=g.clientX-O.left,p=e(m);a("drop",{e:g,datetime:p})},u=g=>!g||/^\s*$/.test(g);return(g,O)=>(I(),P("div",{class:"g-gantt-row",style:U(s.value),onDragover:O[0]||(O[0]=de(m=>o.value=!0,["prevent"])),onDragleave:O[1]||(O[1]=m=>o.value=!1),onDrop:O[2]||(O[2]=m=>d(m)),onMouseover:O[3]||(O[3]=m=>o.value=!0),onMouseleave:O[4]||(O[4]=m=>o.value=!1)},[u(g.label)?nt("",!0):(I(),P("div",{key:0,class:"g-gantt-row-label",style:U({background:G(y).primary,color:G(y).text})},[N(g.$slots,"label",{},()=>[gt(it(g.label),1)])],4)),V("div",fe({ref_key:"barContainer",ref:i,class:"g-gantt-row-bars-container"},g.$attrs),[kt(ce,{name:"bar-transition",tag:"div"},{default:et(()=>[(I(!0),P(ht,null,mt(g.bars,m=>(I(),ft(En,{key:m.ganttBarConfig.id,bar:m},{default:et(()=>[N(g.$slots,"bar-label",{bar:m})]),_:2},1032,["bar"]))),128))]),_:3})],16)],36))}});function xn(){X.extend(Ge),X.extend(Ie),X.extend(Re),X.extend(Ne),X.extend(Pe),X.extend(Le),X.extend(je)}const Sn={install(t,a){xn(),t.component("GGanttChart",_n),t.component("GGanttRow",Tn)}},Ln={extends:Te,enhanceApp(t){t.app.use(Sn)}};function re(t){if(t.extends){const a=re(t.extends);return{...a,...t,async enhanceApp(n){a.enhanceApp&&await a.enhanceApp(n),t.enhanceApp&&await t.enhanceApp(n)}}}return t}const dt=re(Ln),Yn=rt({name:"VitePressApp",setup(){const{site:t}=De();return Ct(()=>{Oe(()=>{document.documentElement.lang=t.value.lang,document.documentElement.dir=t.value.dir})}),Me(),ke(),Ce(),dt.setup&&dt.setup(),()=>Ee(dt.Layout)}});async function Gn(){const t=In(),a=An();a.provide(me,t);const n=ge(t.route);return a.provide(ve,n),a.component("Content",pe),a.component("ClientOnly",ye),Object.defineProperties(a.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),dt.enhanceApp&&await dt.enhanceApp({app:a,router:t,siteData:we}),{app:a,router:t,data:n}}function An(){return be(Yn)}function In(){let t=Mt,a;return _e(n=>{let r=Be(n);return r?(t&&(a=r),(t||a===r)&&(r=r.replace(/\.js$/,".lean.js")),Mt&&(t=!1),$e(()=>import(r),[])):null},dt.NotFound)}Mt&&Gn().then(({app:t,router:a,data:n})=>{a.go().then(()=>{he(a.route,n.site),t.mount("#app")})});export{Gn as createApp};
